{% extends "base.html" %}
{% block title %}{{ playlist.name }} - Playlist{% endblock %}
{% block content %}
<a href="{{ url_for('dashboard') }}" class="inline-flex items-center gap-2 mb-4 px-3 py-1.5 rounded-full bg-[#29382f] text-[#9eb7a8] hover:bg-[#395645] focus:outline-none focus:ring-2 focus:ring-[#38e07b] text-sm font-medium w-fit">
  <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg>
  Back to Dashboard
</a>
<div class="flex flex-wrap justify-between gap-3 p-4">
  <div class="flex min-w-72 flex-col gap-3">
    <div class="flex items-center gap-4">
      {% if playlist.images and playlist.images[0].url %}
        <img class="rounded-xl w-24 h-24 object-cover" src="{{ playlist.images[0].url }}" alt="Playlist cover">
      {% else %}
        <div class="w-24 h-24 rounded-xl bg-[#29382f] flex items-center justify-center">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-[#38e07b] w-16 h-16"><path d="M6 6H42L36 24L42 42H6L12 24L6 6Z" fill="currentColor"></path></svg>
        </div>
      {% endif %}
      <div>
        <p class="text-[#9eb7a8] text-sm font-normal leading-normal">
          Playlist
          {% if playlist.owner and playlist.owner.display_name %}Â· {{ playlist.owner.display_name }}{% endif %}
        </p>
        <p class="text-white tracking-light text-[32px] font-bold leading-tight">{{ playlist.name }}</p>
        {% if playlist.description %}
          <p class="text-[#9eb7a8] text-base font-normal leading-normal mt-1">{{ playlist.description }}</p>
        {% endif %}
        <p class="text-[#9eb7a8] text-sm font-normal leading-normal mt-1">{{ playlist.tracks.total }} tracks</p>
      </div>
    </div>
    <form class="mt-4" hx-post="/add_playlist_to_library/{{ playlist.id }}" hx-target="#add-all-result" hx-swap="innerHTML">
      <button type="submit" class="rounded-full bg-[#38e07b] text-[#111714] px-6 py-2 font-bold text-base shadow hover:bg-[#2ed16a] transition-colors">Add All Tracks to Library</button>
    </form>
    <div id="add-all-result" class="mt-2"></div>
  </div>
</div>
<div class="px-4 py-3 @container">
    {% include "_tracks_fragment.html" %}
</div>
{% endblock %}

