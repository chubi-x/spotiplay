{% extends "base.html" %}
{% block title %}Playlist Details{% endblock %}
{% block content %}
    <h1>{{ playlist.name }}</h1>
    {% if playlist.images and playlist.images[0].url %}
        <img src="{{ playlist.images[0].url }}" alt="cover" width="200">
    {% endif %}
    <p>{{ playlist.description }}</p>
    <p>Total tracks: {{ playlist.tracks.total }}</p>
    <form hx-post="/add_playlist_to_library/{{ playlist.id }}" hx-target="#add-all-result" hx-swap="innerHTML">
        <button type="submit">Add All Tracks to Library</button>
    </form>
    <div id="add-all-result"></div>
    <hr>
    <h2>Tracks</h2>
    {% include '_tracks_fragment.html' %}
{% endblock %}

